const e=document.getElementById("form"),t=new class{constructor({selector:e,isHidden:t=!1}){this.button=this.getButton(e),t&&this.hide()}getButton(e){return document.querySelector(e)}enebled(){this.button.removeAttribute("disabled"),this.button.disebled=!1,this.button.textContent="Load More"}disable(){this.button.disebled=!0,this.button.textContent="Loading....."}hide(){this.button.classList.add("hidden")}show(){this.button.classList.remove("hidden")}}({selector:"#loadMoreBtn",isHidden:!0}),n=new class{constructor(){this.queryPage=1,this.searchQuery=""}async getNews(){const e=`https://newsapi.org/v2/everything?q=${this.searchQuery}&pageSize=5&page=${this.queryPage}`,t={headers:{"X-Api-Key":"d8847f02a17a4f339957c5e8d851cb8e"}},n=await axios.get(e,t);return this.incrementPage(),n.data.articles}resetPage(){this.queryPage=1}incrementPage(){this.queryPage+=1}};function r(e){document.getElementById("articlesWrapper").insertAdjacentHTML("beforeend",e)}function s(e){console.error(e),r("<p>Articles not found</p>")}function i(){return t.disable(),n.getNews().then((({articles:e})=>{if(0===e.length)throw new Error("No data");return e.reduce(((e,t)=>function({author:e,title:t,description:n,url:r,urlToImage:s}){return`\n  <div class="article-card">\n  <h2 class="article-title">${t}</h2>\n  <h3 class="aricle-author">${e||"Anonym"}</h3>\n  <img src=${s} class="article-img">\n  <p class="article-description">${n}</p>\n  <a href=${r} class="article-link" target =_blank>Read more</a>\n  </div>\n    `}(t)+e),"")})).then((e=>{r(e),t.enebled()})).catch(s)}e.addEventListener("submit",(function(e){e.preventDefault();const r=e.currentTarget;n.searchQuery=r.elements.news.value.trim(),document.getElementById("articlesWrapper").innerHTML="",n.resetPage(),t.show(),i().finally((()=>r.reset()))})),t.button.addEventListener("click",i);
//# sourceMappingURL=newsApiAsync.a45cf067.js.map
